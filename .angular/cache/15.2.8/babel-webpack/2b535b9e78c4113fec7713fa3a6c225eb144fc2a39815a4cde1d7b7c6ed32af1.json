{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/productos.service\";\nimport * as i3 from \"../services/cart.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction DetalleComponent_div_1_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵlistener(\"click\", function DetalleComponent_div_1_div_6_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const picture_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.selectImage(picture_r7));\n    });\n    i0.ɵɵelement(1, \"img\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const picture_r7 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", picture_r7.url, i0.ɵɵsanitizeUrl)(\"alt\", picture_r7.id);\n  }\n}\nfunction DetalleComponent_div_1_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"label\", 20);\n    i0.ɵɵtext(2, \"Stock Disponible:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 21)(4, \"input\", 22);\n    i0.ɵɵlistener(\"ngModelChange\", function DetalleComponent_div_1_div_20_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.desiredQuantity = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 23);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"max\", ctx_r4.productDetail.initial_quantity);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.desiredQuantity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"(\", ctx_r4.productDetail.initial_quantity, \" disponibles)\");\n  }\n}\nfunction DetalleComponent_div_1_tr_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const attribute_r12 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", attribute_r12.name, \":\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(attribute_r12.value_name);\n  }\n}\nfunction DetalleComponent_div_1_tr_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const attribute_r13 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", attribute_r13.name, \":\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(attribute_r13.value_name);\n  }\n}\nfunction DetalleComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 3)(2, \"div\", 4)(3, \"div\", 5)(4, \"div\", 6)(5, \"div\", 7);\n    i0.ɵɵtemplate(6, DetalleComponent_div_1_div_6_Template, 2, 2, \"div\", 8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 9);\n    i0.ɵɵelement(8, \"img\", 10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 11)(10, \"h2\");\n    i0.ɵɵtext(11, \"Detalle del Producto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\")(13, \"strong\");\n    i0.ɵɵtext(14, \"Producto:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\")(17, \"strong\");\n    i0.ɵɵtext(18, \"Precio:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, DetalleComponent_div_1_div_20_Template, 7, 3, \"div\", 12);\n    i0.ɵɵelementStart(21, \"div\", 13)(22, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function DetalleComponent_div_1_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.addToCart());\n    });\n    i0.ɵɵtext(23, \"Agregar al carrito\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(24, \"div\", 15)(25, \"div\", 16)(26, \"h3\");\n    i0.ɵɵtext(27, \"Caracter\\u00EDsticas generales\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"table\")(29, \"tbody\");\n    i0.ɵɵtemplate(30, DetalleComponent_div_1_tr_30_Template, 6, 2, \"tr\", 17);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(31, \"div\", 16)(32, \"h3\");\n    i0.ɵɵtext(33, \"Otras Caracter\\u00EDsticas\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"table\")(35, \"tbody\");\n    i0.ɵɵtemplate(36, DetalleComponent_div_1_tr_36_Template, 6, 2, \"tr\", 17);\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.productDetail.pictures.slice(0, ctx_r0.maxVisibleImages));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", (ctx_r0.selectedImage == null ? null : ctx_r0.selectedImage.secure_url) || (ctx_r0.productDetail.pictures[0] == null ? null : ctx_r0.productDetail.pictures[0].secure_url), i0.ɵɵsanitizeUrl)(\"alt\", (ctx_r0.selectedImage == null ? null : ctx_r0.selectedImage.id) || (ctx_r0.productDetail.pictures[0] == null ? null : ctx_r0.productDetail.pictures[0].id));\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.productDetail.title, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" $\", ctx_r0.productDetail.price, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.productDetail.initial_quantity > 0);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.productDetail.attributes.slice(0, 10));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.productDetail.attributes.slice(10, 20));\n  }\n}\nfunction DetalleComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"No se encontraron detalles del producto.\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class DetalleComponent {\n  constructor(route, productosService, cartService) {\n    this.route = route;\n    this.productosService = productosService;\n    this.cartService = cartService;\n    this.productDetail = null; // Store the product details\n    this.productDescription = null; // Store the product description\n    this.selectedImage = null; // Store the selected image\n    this.maxVisibleImages = 3; // Set the maximum number of images to display\n    this.desiredQuantity = 1; // Default value for quantity input\n  }\n\n  ngOnInit() {\n    // Get the product ID from the route parameter and fetch details\n    const productId = this.route.snapshot.paramMap.get('id');\n    if (productId) {\n      this.getProductDetail(productId);\n      this.getProductDescription(productId);\n    }\n  }\n  // Method to fetch the product detail using the service\n  getProductDetail(productId) {\n    this.productosService.getProductDetail(productId).subscribe({\n      next: detail => {\n        this.productDetail = detail;\n        // Set the initial selected image\n        if (this.productDetail.pictures.length > 0) {\n          this.selectedImage = this.productDetail.pictures[0];\n        }\n        // Ensure desiredQuantity does not exceed initial_quantity\n        this.desiredQuantity = Math.min(this.desiredQuantity, this.productDetail.initial_quantity);\n      },\n      error: error => {\n        console.error('Error fetching product details:', error);\n      }\n    });\n  }\n  // Method to fetch the product description using the service\n  getProductDescription(productId) {\n    this.productosService.getProductDescription(productId).subscribe({\n      next: description => {\n        this.productDescription = description?.text || 'No description available';\n      },\n      error: error => {\n        console.error('Error fetching product description:', error);\n      }\n    });\n  }\n  // Method to handle image selection\n  selectImage(picture) {\n    this.selectedImage = picture;\n  }\n  addToCart() {\n    if (this.productDetail && this.desiredQuantity > 0) {\n      this.cartService.addToCart(this.productDetail, this.desiredQuantity);\n      alert('Producto agregado al carrito!');\n    }\n  }\n}\nDetalleComponent.ɵfac = function DetalleComponent_Factory(t) {\n  return new (t || DetalleComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ProductosService), i0.ɵɵdirectiveInject(i3.CartService));\n};\nDetalleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DetalleComponent,\n  selectors: [[\"app-detalle\"]],\n  decls: 4,\n  vars: 2,\n  consts: [[1, \"background-container\"], [4, \"ngIf\", \"ngIfElse\"], [\"noDetail\", \"\"], [1, \"outer-container\"], [1, \"layout-container\"], [1, \"main-image-container\"], [1, \"image-list\"], [1, \"image-selector\"], [\"class\", \"thumbnail\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"main-image\"], [3, \"src\", \"alt\"], [1, \"product-details\"], [\"class\", \"stock-info\", 4, \"ngIf\"], [1, \"add-to-cart\"], [1, \"add-to-cart-btn\", 3, \"click\"], [1, \"attributes-container\"], [1, \"section\"], [4, \"ngFor\", \"ngForOf\"], [1, \"thumbnail\", 3, \"click\"], [1, \"stock-info\"], [\"for\", \"quantityInput\"], [1, \"stock-info-content\"], [\"type\", \"number\", \"id\", \"quantityInput\", \"min\", \"1\", 3, \"ngModel\", \"max\", \"ngModelChange\"], [1, \"stock-quantity\"]],\n  template: function DetalleComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, DetalleComponent_div_1_Template, 37, 8, \"div\", 1);\n      i0.ɵɵtemplate(2, DetalleComponent_ng_template_2_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(3);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.productDetail)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.MinValidator, i5.MaxValidator, i5.NgModel],\n  styles: [\".outer-container[_ngcontent-%COMP%] {\\r\\n  background-color: #fff; \\r\\n  padding: 20px;\\r\\n  border-radius: 8px;\\r\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n\\r\\n.layout-container[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-items: flex-start; \\r\\n  gap: 1rem;\\r\\n}\\r\\n\\r\\n\\r\\n.main-image-container[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  gap: 1rem;\\r\\n  flex: 1;\\r\\n  background-color: #fff; \\r\\n  padding: 20px;\\r\\n  border-radius: 8px;\\r\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n\\r\\n.image-list[_ngcontent-%COMP%] {\\r\\n  flex: 0 0 150px; \\r\\n}\\r\\n\\r\\n\\r\\n.image-selector[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  gap: 0.5rem;\\r\\n  width: 50%; \\r\\n}\\r\\n\\r\\n.thumbnail[_ngcontent-%COMP%] {\\r\\n  cursor: pointer;\\r\\n  border: 2px solid transparent;\\r\\n  transition: border-color 0.3s ease;\\r\\n}\\r\\n\\r\\n.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  height: auto;\\r\\n  max-width: 80px; \\r\\n}\\r\\n\\r\\n.thumbnail[_ngcontent-%COMP%]:hover {\\r\\n  border-color: #007bff;\\r\\n}\\r\\n\\r\\n\\r\\n.main-image[_ngcontent-%COMP%] {\\r\\n  flex: 1; \\r\\n}\\r\\n\\r\\n.main-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  max-width: 500px; \\r\\n  height: auto;\\r\\n  border-radius: 8px;\\r\\n}\\r\\n\\r\\n\\r\\n.product-details[_ngcontent-%COMP%] {\\r\\n  flex: 0 0 300px; \\r\\n  background-color: #f8f8f8;\\r\\n  padding: 20px;\\r\\n  border-radius: 8px;\\r\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n\\r\\n.attributes-container[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-wrap: wrap;\\r\\n  gap: 20px;\\r\\n  margin-top: 20px; \\r\\n}\\r\\n\\r\\n.section[_ngcontent-%COMP%] {\\r\\n  flex: 1 1 45%;\\r\\n  background-color: #f8f8f8;\\r\\n  padding: 20px;\\r\\n  border-radius: 8px;\\r\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\ntable[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  border-collapse: collapse;\\r\\n}\\r\\n\\r\\ntd[_ngcontent-%COMP%] {\\r\\n  padding: 8px;\\r\\n  border-bottom: 1px solid #ddd;\\r\\n}\\r\\n\\r\\ntd[_ngcontent-%COMP%]:first-child {\\r\\n  font-weight: bold;\\r\\n  width: 40%;\\r\\n}\\r\\n\\r\\nh3[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n\\r\\n.stock-info[_ngcontent-%COMP%] {\\r\\n  margin-top: 1rem;\\r\\n}\\r\\n\\r\\n.stock-info[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\r\\n  display: block;\\r\\n  font-weight: bold;\\r\\n  margin-bottom: 0.5rem;\\r\\n}\\r\\n\\r\\n.stock-info-content[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-direction: center; \\r\\n  gap: 0.5rem;\\r\\n}\\r\\n\\r\\n.stock-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\r\\n  width: 80px; \\r\\n  padding: 5px;\\r\\n  border: 1px solid #ccc;\\r\\n  border-radius: 4px;\\r\\n}\\r\\n\\r\\n.stock-info[_ngcontent-%COMP%]   .stock-quantity[_ngcontent-%COMP%] {\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n\\r\\n.background-container[_ngcontent-%COMP%] {\\r\\n  background-color: rgba(0, 0, 0, 0.1); \\r\\n  padding: 20px; \\r\\n  margin: 0 auto; \\r\\n  display: flex;\\r\\n  justify-content: center; \\r\\n}\\r\\n\\r\\n\\r\\n.add-to-cart-btn[_ngcontent-%COMP%] {\\r\\n  background-color: #3483fa; \\r\\n  color: #fff; \\r\\n  padding: 12px 20px; \\r\\n  width: 100%; \\r\\n  border: none; \\r\\n  border-radius: 8px; \\r\\n  font-size: 16px; \\r\\n  font-weight: bold; \\r\\n  cursor: pointer; \\r\\n  transition: background-color 0.3s ease; \\r\\n  text-align: center; \\r\\n  margin-top: 10px;\\r\\n}\\r\\n\\r\\n.add-to-cart-btn[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #255ea6; \\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGV0YWxsZS9kZXRhbGxlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMENBQTBDO0FBQzFDO0VBQ0Usc0JBQXNCLEVBQUUseUNBQXlDO0VBQ2pFLGFBQWE7RUFDYixrQkFBa0I7RUFDbEIsd0NBQXdDO0FBQzFDOztBQUVBLGtFQUFrRTtBQUNsRTtFQUNFLGFBQWE7RUFDYix1QkFBdUIsRUFBRSwyQkFBMkI7RUFDcEQsU0FBUztBQUNYOztBQUVBLGdDQUFnQztBQUNoQztFQUNFLGFBQWE7RUFDYixTQUFTO0VBQ1QsT0FBTztFQUNQLHNCQUFzQixFQUFFLDhDQUE4QztFQUN0RSxhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLHdDQUF3QztBQUMxQzs7QUFFQSxzQkFBc0I7QUFDdEI7RUFDRSxlQUFlLEVBQUUsK0JBQStCO0FBQ2xEOztBQUVBLDBCQUEwQjtBQUMxQjtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsV0FBVztFQUNYLFVBQVUsRUFBRSx3Q0FBd0M7QUFDdEQ7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsNkJBQTZCO0VBQzdCLGtDQUFrQztBQUNwQzs7QUFFQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0VBQ1osZUFBZSxFQUFFLG9DQUFvQztBQUN2RDs7QUFFQTtFQUNFLHFCQUFxQjtBQUN2Qjs7QUFFQSxzQkFBc0I7QUFDdEI7RUFDRSxPQUFPLEVBQUUsdURBQXVEO0FBQ2xFOztBQUVBO0VBQ0UsV0FBVztFQUNYLGdCQUFnQixFQUFFLDJCQUEyQjtFQUM3QyxZQUFZO0VBQ1osa0JBQWtCO0FBQ3BCOztBQUVBLDJCQUEyQjtBQUMzQjtFQUNFLGVBQWUsRUFBRSxvQ0FBb0M7RUFDckQseUJBQXlCO0VBQ3pCLGFBQWE7RUFDYixrQkFBa0I7RUFDbEIsd0NBQXdDO0FBQzFDOztBQUVBLDZCQUE2QjtBQUM3QjtFQUNFLGFBQWE7RUFDYixlQUFlO0VBQ2YsU0FBUztFQUNULGdCQUFnQixFQUFFLGtFQUFrRTtBQUN0Rjs7QUFFQTtFQUNFLGFBQWE7RUFDYix5QkFBeUI7RUFDekIsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQix3Q0FBd0M7QUFDMUM7O0FBRUE7RUFDRSxXQUFXO0VBQ1gseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLDZCQUE2QjtBQUMvQjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixVQUFVO0FBQ1o7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUEsNkJBQTZCO0FBQzdCO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGlCQUFpQjtFQUNqQixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUUscUNBQXFDO0VBQzdELFdBQVc7QUFDYjs7QUFFQTtFQUNFLFdBQVcsRUFBRSwyQkFBMkI7RUFDeEMsWUFBWTtFQUNaLHNCQUFzQjtFQUN0QixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUEsZ0NBQWdDO0FBQ2hDO0VBQ0Usb0NBQW9DLEVBQUUscUJBQXFCO0VBQzNELGFBQWEsRUFBRSxpQ0FBaUM7RUFDaEQsY0FBYyxFQUFFLHNDQUFzQztFQUN0RCxhQUFhO0VBQ2IsdUJBQXVCLEVBQUUsZ0NBQWdDO0FBQzNEOztBQUVBLDhCQUE4QjtBQUM5QjtFQUNFLHlCQUF5QixFQUFFLG9CQUFvQjtFQUMvQyxXQUFXLEVBQUUsZUFBZTtFQUM1QixrQkFBa0IsRUFBRSxpQ0FBaUM7RUFDckQsV0FBVyxFQUFFLGdDQUFnQztFQUM3QyxZQUFZLEVBQUUsMEJBQTBCO0VBQ3hDLGtCQUFrQixFQUFFLG9CQUFvQjtFQUN4QyxlQUFlLEVBQUUscUJBQXFCO0VBQ3RDLGlCQUFpQixFQUFFLHFDQUFxQztFQUN4RCxlQUFlLEVBQUUsNEJBQTRCO0VBQzdDLHNDQUFzQyxFQUFFLCtCQUErQjtFQUN2RSxrQkFBa0IsRUFBRSxvQkFBb0I7RUFDeEMsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UseUJBQXlCLEVBQUUsa0NBQWtDO0FBQy9EIiwic291cmNlc0NvbnRlbnQiOlsiLyogT3V0ZXIgQ29udGFpbmVyIHdpdGggV2hpdGUgQmFja2dyb3VuZCAqL1xyXG4ub3V0ZXItY29udGFpbmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOyAvKiBXaGl0ZSBiYWNrZ3JvdW5kIGZvciBvdXRlciBjb250YWluZXIgKi9cclxuICBwYWRkaW5nOiAyMHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG59XHJcblxyXG4vKiBDb250YWluZXIgZm9yIHRoZSBpbWFnZSBsaXN0LCBtYWluIGltYWdlLCBhbmQgcHJvZHVjdCBkZXRhaWxzICovXHJcbi5sYXlvdXQtY29udGFpbmVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OyAvKiBBbGlnbiBpdGVtcyB0byB0aGUgdG9wICovXHJcbiAgZ2FwOiAxcmVtO1xyXG59XHJcblxyXG4vKiBNYWluIEltYWdlIENvbnRhaW5lciBTdHlsZXMgKi9cclxuLm1haW4taW1hZ2UtY29udGFpbmVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGdhcDogMXJlbTtcclxuICBmbGV4OiAxO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7IC8qIFdoaXRlIGJhY2tncm91bmQgZm9yIG1haW4gaW1hZ2UgY29udGFpbmVyICovXHJcbiAgcGFkZGluZzogMjBweDtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxufVxyXG5cclxuLyogSW1hZ2UgTGlzdCBTdHlsZXMgKi9cclxuLmltYWdlLWxpc3Qge1xyXG4gIGZsZXg6IDAgMCAxNTBweDsgLyogRml4ZWQgd2lkdGggZm9yIGltYWdlIGxpc3QgKi9cclxufVxyXG5cclxuLyogSW1hZ2UgU2VsZWN0b3IgU3R5bGVzICovXHJcbi5pbWFnZS1zZWxlY3RvciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGdhcDogMC41cmVtO1xyXG4gIHdpZHRoOiA1MCU7IC8qIEVuc3VyZSBmdWxsIHdpZHRoIHdpdGhpbiBpbWFnZSBsaXN0ICovXHJcbn1cclxuXHJcbi50aHVtYm5haWwge1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBib3JkZXI6IDJweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4zcyBlYXNlO1xyXG59XHJcblxyXG4udGh1bWJuYWlsIGltZyB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG4gIG1heC13aWR0aDogODBweDsgLyogQWRqdXN0IHNpemUgb2YgdGh1bWJuYWlsIGltYWdlcyAqL1xyXG59XHJcblxyXG4udGh1bWJuYWlsOmhvdmVyIHtcclxuICBib3JkZXItY29sb3I6ICMwMDdiZmY7XHJcbn1cclxuXHJcbi8qIE1haW4gSW1hZ2UgU3R5bGVzICovXHJcbi5tYWluLWltYWdlIHtcclxuICBmbGV4OiAxOyAvKiBFbnN1cmUgdGhlIG1haW4gaW1hZ2UgdGFrZXMgdXAgdGhlIHJlbWFpbmluZyBzcGFjZSAqL1xyXG59XHJcblxyXG4ubWFpbi1pbWFnZSBpbWcge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG1heC13aWR0aDogNTAwcHg7IC8qIEFkanVzdCB3aWR0aCBhcyBuZWVkZWQgKi9cclxuICBoZWlnaHQ6IGF1dG87XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG59XHJcblxyXG4vKiBQcm9kdWN0IERldGFpbHMgU3R5bGVzICovXHJcbi5wcm9kdWN0LWRldGFpbHMge1xyXG4gIGZsZXg6IDAgMCAzMDBweDsgLyogRml4ZWQgd2lkdGggZm9yIHByb2R1Y3QgZGV0YWlscyAqL1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmOGY4Zjg7XHJcbiAgcGFkZGluZzogMjBweDtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxufVxyXG5cclxuLyogQ2hhcmFjdGVyaXN0aWNzIFNlY3Rpb25zICovXHJcbi5hdHRyaWJ1dGVzLWNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgZ2FwOiAyMHB4O1xyXG4gIG1hcmdpbi10b3A6IDIwcHg7IC8qIEFkZHMgc3BhY2UgYmV0d2VlbiB0aGUgaW1hZ2UgYW5kIHRoZSBjaGFyYWN0ZXJpc3RpY3Mgc2VjdGlvbnMgKi9cclxufVxyXG5cclxuLnNlY3Rpb24ge1xyXG4gIGZsZXg6IDEgMSA0NSU7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODtcclxuICBwYWRkaW5nOiAyMHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG59XHJcblxyXG50YWJsZSB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxufVxyXG5cclxudGQge1xyXG4gIHBhZGRpbmc6IDhweDtcclxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RkZDtcclxufVxyXG5cclxudGQ6Zmlyc3QtY2hpbGQge1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIHdpZHRoOiA0MCU7XHJcbn1cclxuXHJcbmgzIHtcclxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG59XHJcblxyXG4vKiBTdG9jayBJbmZvcm1hdGlvbiBTdHlsZXMgKi9cclxuLnN0b2NrLWluZm8ge1xyXG4gIG1hcmdpbi10b3A6IDFyZW07XHJcbn1cclxuXHJcbi5zdG9jay1pbmZvIGxhYmVsIHtcclxuICBkaXNwbGF5OiBibG9jaztcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XHJcbn1cclxuXHJcbi5zdG9jay1pbmZvLWNvbnRlbnQge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNlbnRlcjsgLyogU3RhY2sgbGFiZWwgYW5kIGlucHV0IHZlcnRpY2FsbHkgKi9cclxuICBnYXA6IDAuNXJlbTtcclxufVxyXG5cclxuLnN0b2NrLWluZm8gaW5wdXQge1xyXG4gIHdpZHRoOiA4MHB4OyAvKiBBZGp1c3Qgd2lkdGggYXMgbmVlZGVkICovXHJcbiAgcGFkZGluZzogNXB4O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG59XHJcblxyXG4uc3RvY2staW5mbyAuc3RvY2stcXVhbnRpdHkge1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcblxyXG4vKiBCYWNrZ3JvdW5kIENvbnRhaW5lciBTdHlsZXMgKi9cclxuLmJhY2tncm91bmQtY29udGFpbmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMSk7IC8qIEJhY2tncm91bmQgY29sb3IgKi9cclxuICBwYWRkaW5nOiAyMHB4OyAvKiBQYWRkaW5nIGluc2lkZSB0aGUgY29udGFpbmVyICovXHJcbiAgbWFyZ2luOiAwIGF1dG87IC8qIENlbnRlciB0aGUgY29udGFpbmVyIGhvcml6b250YWxseSAqL1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IC8qIENlbnRlciBjb250ZW50IGhvcml6b250YWxseSAqL1xyXG59XHJcblxyXG4vKiBBZGQgdG8gQ2FydCBCdXR0b24gU3R5bGVzICovXHJcbi5hZGQtdG8tY2FydC1idG4ge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMzNDgzZmE7IC8qIEJsdWUgYmFja2dyb3VuZCAqL1xyXG4gIGNvbG9yOiAjZmZmOyAvKiBXaGl0ZSB0ZXh0ICovXHJcbiAgcGFkZGluZzogMTJweCAyMHB4OyAvKiBQYWRkaW5nIGZvciBjb21mb3J0YWJsZSBzaXplICovXHJcbiAgd2lkdGg6IDEwMCU7IC8qIEZ1bGwgd2lkdGggb2YgdGhlIGNvbnRhaW5lciAqL1xyXG4gIGJvcmRlcjogbm9uZTsgLyogUmVtb3ZlIGRlZmF1bHQgYm9yZGVyICovXHJcbiAgYm9yZGVyLXJhZGl1czogOHB4OyAvKiBSb3VuZGVkIGNvcm5lcnMgKi9cclxuICBmb250LXNpemU6IDE2cHg7IC8qIEFkanVzdCBmb250IHNpemUgKi9cclxuICBmb250LXdlaWdodDogYm9sZDsgLyogQm9sZCB0ZXh0IGZvciBiZXR0ZXIgcmVhZGFiaWxpdHkgKi9cclxuICBjdXJzb3I6IHBvaW50ZXI7IC8qIFBvaW50ZXIgY3Vyc29yIG9uIGhvdmVyICovXHJcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2U7IC8qIFNtb290aCB0cmFuc2l0aW9uIG9uIGhvdmVyICovXHJcbiAgdGV4dC1hbGlnbjogY2VudGVyOyAvKiBDZW50ZXIgdGhlIHRleHQgKi9cclxuICBtYXJnaW4tdG9wOiAxMHB4O1xyXG59XHJcblxyXG4uYWRkLXRvLWNhcnQtYnRuOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjU1ZWE2OyAvKiBTbGlnaHRseSBkYXJrZXIgYmx1ZSBvbiBob3ZlciAqL1xyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","DetalleComponent","constructor","route","productosService","cartService","ngOnInit","productId","snapshot","paramMap","get","getProductDetail","getProductDescription","subscribe","next","detail","productDetail","pictures","length","selectedImage","desiredQuantity","Math","min","initial_quantity","error","console","description","productDescription","text","selectImage","picture","addToCart","alert","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Usuario\\Desktop\\Archivo\\src\\app\\detalle\\detalle.component.html","C:\\Users\\Usuario\\Desktop\\Archivo\\src\\app\\detalle\\detalle.component.ts"],"sourcesContent":["<div class=\"background-container\">\n  <div *ngIf=\"productDetail; else noDetail\">\n    <!-- Outer Container with White Background -->\n    <div class=\"outer-container\">\n      <!-- Container for the image list, main image, and product details -->\n      <div class=\"layout-container\">\n        <!-- Main Image Container -->\n        <div class=\"main-image-container\">\n          <!-- Image Selector Inside Main Image Container -->\n          <div class=\"image-list\">\n            <div class=\"image-selector\">\n              <div *ngFor=\"let picture of productDetail.pictures.slice(0, maxVisibleImages)\" (click)=\"selectImage(picture)\" class=\"thumbnail\">\n                <img [src]=\"picture.url\" [alt]=\"picture.id\" />\n              </div>\n            </div>\n          </div>\n\n          <!-- Main Image Display -->\n          <div class=\"main-image\">\n            <img [src]=\"selectedImage?.secure_url || productDetail.pictures[0]?.secure_url\" [alt]=\"selectedImage?.id || productDetail.pictures[0]?.id\" />\n          </div>\n        </div>\n\n        <!-- Product Details Section -->\n        <div class=\"product-details\">\n          <h2>Detalle del Producto</h2>\n          <p><strong>Producto:</strong> {{ productDetail.title }}</p>\n          <p><strong>Precio:</strong> ${{ productDetail.price }}</p>\n\n          <!-- Stock Information and Quantity Input -->\n          <div *ngIf=\"productDetail.initial_quantity > 0\" class=\"stock-info\">\n            <label for=\"quantityInput\">Stock Disponible:</label>\n            <div class=\"stock-info-content\">\n              <input type=\"number\" id=\"quantityInput\" [(ngModel)]=\"desiredQuantity\" min=\"1\" max=\"{{ productDetail.initial_quantity }}\" />\n              <span class=\"stock-quantity\">({{ productDetail.initial_quantity }} disponibles)</span>\n            </div>\n          </div>\n           <!-- Add this to the product-details section -->\n      <div class=\"add-to-cart\">\n        <button class=\"add-to-cart-btn\" (click)=\"addToCart()\">Agregar al carrito</button>\n      </div>\n        </div>\n      </div>\n\n      <!-- Characteristics Sections -->\n      <div class=\"attributes-container\">\n        <!-- General Characteristics Section -->\n        <div class=\"section\">\n          <h3>Características generales</h3>\n          <table>\n            <tbody>\n              <tr *ngFor=\"let attribute of productDetail.attributes.slice(0, 10)\">\n                <td><strong>{{ attribute.name }}:</strong></td>\n                <td>{{ attribute.value_name }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <!-- Usage Section -->\n        <div class=\"section\">\n          <h3>Otras Características</h3>\n          <table>\n            <tbody>\n              <tr *ngFor=\"let attribute of productDetail.attributes.slice(10, 20)\">\n                <td><strong>{{ attribute.name }}:</strong></td>\n                <td>{{ attribute.value_name }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <ng-template #noDetail>\n    <p>No se encontraron detalles del producto.</p>\n  </ng-template>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ProductosService } from '../services/productos.service';\nimport { CartService } from '../services/cart.service';\n\n@Component({\n  selector: 'app-detalle',\n  templateUrl: './detalle.component.html',\n  styleUrls: ['./detalle.component.css']\n})\nexport class DetalleComponent implements OnInit {\n  productDetail: any = null; // Store the product details\n  productDescription: string | null = null; // Store the product description\n  selectedImage: any = null; // Store the selected image\n  maxVisibleImages: number = 3; // Set the maximum number of images to display\n  desiredQuantity: number = 1; // Default value for quantity input\n\n  constructor(\n    private route: ActivatedRoute,\n    private productosService: ProductosService,\n    private cartService: CartService\n  ) {}\n\n  ngOnInit(): void {\n    // Get the product ID from the route parameter and fetch details\n    const productId = this.route.snapshot.paramMap.get('id');\n    if (productId) {\n      this.getProductDetail(productId);\n      this.getProductDescription(productId);\n    }\n  }\n\n  // Method to fetch the product detail using the service\n  getProductDetail(productId: string): void {\n    this.productosService.getProductDetail(productId).subscribe({\n      next: (detail) => {\n        this.productDetail = detail;\n        // Set the initial selected image\n        if (this.productDetail.pictures.length > 0) {\n          this.selectedImage = this.productDetail.pictures[0];\n        }\n        // Ensure desiredQuantity does not exceed initial_quantity\n        this.desiredQuantity = Math.min(this.desiredQuantity, this.productDetail.initial_quantity);\n      },\n      error: (error) => {\n        console.error('Error fetching product details:', error);\n      },\n    });\n  }\n\n  // Method to fetch the product description using the service\n  getProductDescription(productId: string): void {\n    this.productosService.getProductDescription(productId).subscribe({\n      next: (description) => {\n        this.productDescription = description?.text || 'No description available';\n      },\n      error: (error) => {\n        console.error('Error fetching product description:', error);\n      },\n    });\n  }\n\n  // Method to handle image selection\n  selectImage(picture: any): void {\n    this.selectedImage = picture;\n  }\n\n  addToCart(): void {\n    if (this.productDetail && this.desiredQuantity > 0) {\n      this.cartService.addToCart(this.productDetail, this.desiredQuantity);\n      alert('Producto agregado al carrito!');\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}