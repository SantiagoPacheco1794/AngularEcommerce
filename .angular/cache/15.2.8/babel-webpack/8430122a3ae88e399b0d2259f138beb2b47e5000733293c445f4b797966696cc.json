{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/cart.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction CarritoComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 4)(2, \"p\")(3, \"strong\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 5)(6, \"input\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function CarritoComponent_div_4_Template_input_ngModelChange_6_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const item_r1 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(item_r1.quantity = $event);\n    })(\"change\", function CarritoComponent_div_4_Template_input_change_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.updateQuantity(item_r1));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 7);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\", 8);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r1.product.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", item_r1.quantity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Cantidad actual: \", item_r1.quantity, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Precio: $\", item_r1.product.price, \"\");\n  }\n}\nexport class CarritoComponent {\n  constructor(cartService) {\n    this.cartService = cartService;\n    this.cartItems = [];\n    this.savedItems = [];\n    this.totalPrice = 0;\n    this.envio = Math.floor(Math.random() * 3000) + 2000; // Random shipping cost\n    this.totalAmount = 0;\n  }\n  ngOnInit() {\n    this.loadCart();\n  }\n  loadCart() {\n    this.cartItems = this.cartService.getCartItems();\n    this.calculateTotal();\n  }\n  updateCart(item) {\n    this.cartService.updateCartItem(item);\n    this.calculateTotal();\n  }\n  removeFromCart(index) {\n    this.cartService.removeCartItem(index);\n    this.loadCart();\n  }\n  saveProduct(item) {\n    this.savedItems.push(item);\n    this.removeFromCart(this.cartItems.indexOf(item));\n  }\n  calculateTotal() {\n    this.totalPrice = this.cartItems.reduce((acc, item) => acc + item.price * item.quantity, 0);\n    this.totalAmount = this.totalPrice + this.envio;\n  }\n}\nCarritoComponent.ɵfac = function CarritoComponent_Factory(t) {\n  return new (t || CarritoComponent)(i0.ɵɵdirectiveInject(i1.CartService));\n};\nCarritoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CarritoComponent,\n  selectors: [[\"app-carrito\"]],\n  decls: 14,\n  vars: 5,\n  consts: [[1, \"carrito-container\"], [1, \"product-list-container\"], [4, \"ngFor\", \"ngForOf\"], [1, \"summary-container\"], [1, \"product-item\"], [1, \"quantity-price\"], [\"type\", \"number\", \"min\", \"1\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [1, \"current-quantity\"], [1, \"price\"]],\n  template: function CarritoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n      i0.ɵɵtext(3, \"Lista de Productos\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, CarritoComponent_div_4_Template, 11, 4, \"div\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"h2\");\n      i0.ɵɵtext(7, \"Resumen de Compra\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"p\");\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"p\");\n      i0.ɵɵtext(11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"p\");\n      i0.ɵɵtext(13);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.cartItems);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate2(\"Productos: \", ctx.summary.numberOfProducts, \" total $\", ctx.summary.totalPrice, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Env\\u00EDo: $\", ctx.shippingCost, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Total: $\", ctx.totalAmount, \"\");\n    }\n  },\n  dependencies: [i2.NgForOf, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.MinValidator, i3.NgModel],\n  styles: [\".carrito-container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: space-between;\\r\\n    padding: 20px;\\r\\n    background-color: rgba(0, 0, 0, 0.1);\\r\\n    border-radius: 8px;\\r\\n  }\\r\\n  \\r\\n  \\r\\n  .product-list-container[_ngcontent-%COMP%] {\\r\\n    flex: 1;\\r\\n    background-color: #fff;\\r\\n    padding: 20px;\\r\\n    border-radius: 8px;\\r\\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\r\\n  }\\r\\n  \\r\\n  .product-item[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    margin-bottom: 1rem;\\r\\n  }\\r\\n  \\r\\n  .quantity-price[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    gap: 1rem;\\r\\n  }\\r\\n  \\r\\n  .current-quantity[_ngcontent-%COMP%], .price[_ngcontent-%COMP%] {\\r\\n    font-size: 0.9rem;\\r\\n  }\\r\\n  \\r\\n  \\r\\n  .summary-container[_ngcontent-%COMP%] {\\r\\n    flex: 0 0 300px;\\r\\n    background-color: #fff;\\r\\n    padding: 20px;\\r\\n    border-radius: 8px;\\r\\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2Fycml0by9jYXJyaXRvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsNkJBQTZCO0FBQzdCO0lBQ0ksYUFBYTtJQUNiLDhCQUE4QjtJQUM5QixhQUFhO0lBQ2Isb0NBQW9DO0lBQ3BDLGtCQUFrQjtFQUNwQjs7RUFFQSxrQ0FBa0M7RUFDbEM7SUFDRSxPQUFPO0lBQ1Asc0JBQXNCO0lBQ3RCLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIsd0NBQXdDO0VBQzFDOztFQUVBO0lBQ0UsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFNBQVM7RUFDWDs7RUFFQTs7SUFFRSxpQkFBaUI7RUFDbkI7O0VBRUEsNkJBQTZCO0VBQzdCO0lBQ0UsZUFBZTtJQUNmLHNCQUFzQjtJQUN0QixhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLHdDQUF3QztFQUMxQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIENhcnJpdG8gQ29udGFpbmVyIFN0eWxlcyAqL1xyXG4uY2Fycml0by1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIFByb2R1Y3QgTGlzdCBDb250YWluZXIgU3R5bGVzICovXHJcbiAgLnByb2R1Y3QtbGlzdC1jb250YWluZXIge1xyXG4gICAgZmxleDogMTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxuICB9XHJcbiAgXHJcbiAgLnByb2R1Y3QtaXRlbSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbiAgfVxyXG4gIFxyXG4gIC5xdWFudGl0eS1wcmljZSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGdhcDogMXJlbTtcclxuICB9XHJcbiAgXHJcbiAgLmN1cnJlbnQtcXVhbnRpdHksXHJcbiAgLnByaWNlIHtcclxuICAgIGZvbnQtc2l6ZTogMC45cmVtO1xyXG4gIH1cclxuICBcclxuICAvKiBTdW1tYXJ5IENvbnRhaW5lciBTdHlsZXMgKi9cclxuICAuc3VtbWFyeS1jb250YWluZXIge1xyXG4gICAgZmxleDogMCAwIDMwMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gIH1cclxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAIMA,2BAAoC;IAErBA,YAAwB;IAAAA,iBAAS;IAC5CA,8BAA4B;IACLA;MAAA;MAAA;MAAA,OAAaA,yCAAqB;IAAA,EAAP;MAAA;MAAA;MAAA;MAAA,OAAWA,6CAAoB;IAAA,EAA/B;IAAhDA,iBAA2F;IAC3FA,+BAA+B;IAAAA,YAAoC;IAAAA,iBAAO;IAC1EA,+BAAoB;IAAAA,aAAiC;IAAAA,iBAAO;;;;IAJnDA,eAAwB;IAAxBA,2CAAwB;IAEZA,eAA2B;IAA3BA,0CAA2B;IACjBA,eAAoC;IAApCA,gEAAoC;IAC/CA,eAAiC;IAAjCA,6DAAiC;;;ACFjE,OAAM,MAAOC,gBAAgB;EAO3BC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAN/B,cAAS,GAAU,EAAE;IACrB,eAAU,GAAU,EAAE;IACtB,eAAU,GAAW,CAAC;IACtB,UAAK,GAAWC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;IACzD,gBAAW,GAAW,CAAC;EAEwB;EAE/CC,QAAQ;IACN,IAAI,CAACC,QAAQ,EAAE;EACjB;EAEAA,QAAQ;IACN,IAAI,CAACC,SAAS,GAAG,IAAI,CAACN,WAAW,CAACO,YAAY,EAAE;IAChD,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAC,UAAU,CAACC,IAAS;IAClB,IAAI,CAACV,WAAW,CAACW,cAAc,CAACD,IAAI,CAAC;IACrC,IAAI,CAACF,cAAc,EAAE;EACvB;EAEAI,cAAc,CAACC,KAAa;IAC1B,IAAI,CAACb,WAAW,CAACc,cAAc,CAACD,KAAK,CAAC;IACtC,IAAI,CAACR,QAAQ,EAAE;EACjB;EAEAU,WAAW,CAACL,IAAS;IACnB,IAAI,CAACM,UAAU,CAACC,IAAI,CAACP,IAAI,CAAC;IAC1B,IAAI,CAACE,cAAc,CAAC,IAAI,CAACN,SAAS,CAACY,OAAO,CAACR,IAAI,CAAC,CAAC;EACnD;EAEAF,cAAc;IACZ,IAAI,CAACW,UAAU,GAAG,IAAI,CAACb,SAAS,CAACc,MAAM,CAAC,CAACC,GAAG,EAAEX,IAAI,KAAKW,GAAG,GAAGX,IAAI,CAACY,KAAK,GAAGZ,IAAI,CAACa,QAAQ,EAAE,CAAC,CAAC;IAC3F,IAAI,CAACC,WAAW,GAAG,IAAI,CAACL,UAAU,GAAG,IAAI,CAACM,KAAK;EACjD;;AApCW3B,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAA4B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDR7BjC,8BAA+B;MAGrBA,kCAAkB;MAAAA,iBAAK;MAC3BA,kEASM;MACRA,iBAAM;MAGNA,8BAA+B;MACzBA,iCAAiB;MAAAA,iBAAK;MAC1BA,yBAAG;MAAAA,YAAyE;MAAAA,iBAAI;MAChFA,0BAAG;MAAAA,aAA0B;MAAAA,iBAAI;MACjCA,0BAAG;MAAAA,aAAyB;MAAAA,iBAAI;;;MAjBVA,eAAY;MAAZA,uCAAY;MAe/BA,eAAyE;MAAzEA,0GAAyE;MACzEA,eAA0B;MAA1BA,4DAA0B;MAC1BA,eAAyB;MAAzBA,sDAAyB","names":["i0","CarritoComponent","constructor","cartService","Math","floor","random","ngOnInit","loadCart","cartItems","getCartItems","calculateTotal","updateCart","item","updateCartItem","removeFromCart","index","removeCartItem","saveProduct","savedItems","push","indexOf","totalPrice","reduce","acc","price","quantity","totalAmount","envio","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Usuario\\Desktop\\Archivo\\src\\app\\carrito\\carrito.component.html","C:\\Users\\Usuario\\Desktop\\Archivo\\src\\app\\carrito\\carrito.component.ts"],"sourcesContent":["<div class=\"carrito-container\">\n    <!-- Product List Container -->\n    <div class=\"product-list-container\">\n      <h2>Lista de Productos</h2>\n      <div *ngFor=\"let item of cartItems\">\n        <div class=\"product-item\">\n          <p><strong>{{ item.product.title }}</strong></p>\n          <div class=\"quantity-price\">\n            <input type=\"number\" [(ngModel)]=\"item.quantity\" (change)=\"updateQuantity(item)\" min=\"1\" />\n            <span class=\"current-quantity\">Cantidad actual: {{ item.quantity }}</span>\n            <span class=\"price\">Precio: ${{ item.product.price }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  \n    <!-- Summary Container -->\n    <div class=\"summary-container\">\n      <h2>Resumen de Compra</h2>\n      <p>Productos: {{ summary.numberOfProducts }} total ${{ summary.totalPrice }}</p>\n      <p>Envío: ${{ shippingCost }}</p>\n      <p>Total: ${{ totalAmount }}</p>\n    </div>\n  </div>\n  ","import { Component, OnInit } from '@angular/core';\nimport { CartService } from '../services/cart.service';\n\n@Component({\n  selector: 'app-carrito',\n  templateUrl: './carrito.component.html',\n  styleUrls: ['./carrito.component.css']\n})\nexport class CarritoComponent implements OnInit {\n  cartItems: any[] = [];\n  savedItems: any[] = [];\n  totalPrice: number = 0;\n  envio: number = Math.floor(Math.random() * 3000) + 2000; // Random shipping cost\n  totalAmount: number = 0;\n\n  constructor(private cartService: CartService) {}\n\n  ngOnInit(): void {\n    this.loadCart();\n  }\n\n  loadCart(): void {\n    this.cartItems = this.cartService.getCartItems();\n    this.calculateTotal();\n  }\n\n  updateCart(item: any): void {\n    this.cartService.updateCartItem(item);\n    this.calculateTotal();\n  }\n\n  removeFromCart(index: number): void {\n    this.cartService.removeCartItem(index);\n    this.loadCart();\n  }\n\n  saveProduct(item: any): void {\n    this.savedItems.push(item);\n    this.removeFromCart(this.cartItems.indexOf(item));\n  }\n\n  calculateTotal(): void {\n    this.totalPrice = this.cartItems.reduce((acc, item) => acc + item.price * item.quantity, 0);\n    this.totalAmount = this.totalPrice + this.envio;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}